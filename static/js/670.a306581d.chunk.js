"use strict";(self.webpackChunktask_manager=self.webpackChunktask_manager||[]).push([[670],{7670:function(e,t,i){i.r(t),i.d(t,{default:function(){return Y}});var n=i(2791),a=i(9434),s=i(132),r=i(9439),o=i(3418),l=i(1413),d=i(8546),c=i(4378),u=i(9852),h=i(5519),p=i(2114),m=i(1862),x=i(184),Z=function(e){var t=e.parentComponent,i=(0,n.useState)("low"),a=(0,r.Z)(i,2),s=a[0],Z=a[1];console.log(s);var j={low:d.Z[200],medium:c.Z[200],high:u.Z[200],without:h.Z[400]};function C(e){return e.charAt(0).toUpperCase()+e.slice(1)}return(0,x.jsxs)("div",{children:[(0,x.jsx)("p",{className:o.Z.OBFiltersModalLabel,children:"Label color"}),(0,x.jsx)("div",{className:"".concat("FiltersModal"===t?o.Z.OBFiltersModalRadioGroupV:o.Z.OBFiltersModalRadioGroupH),children:Object.keys(j).map((function(e){return(0,x.jsx)(p.Z,{label:"without"===e?"Without priority":C(e),labelPlacement:"end",className:o.Z.OBFiltersModalRadioLabel,control:(0,x.jsx)(m.Z,(0,l.Z)((0,l.Z)({className:o.Z.OBFiltersModalRadioBtn},(t=e,{value:t,onChange:function(e){return Z(e.target.value)},checked:s===t,name:"priority",inputProps:{"aria-label":t}})),{},{sx:{color:j[e],"&.Mui-checked":{color:j[e]},"&.Mui-checked .MuiSvgIcon-root":{fontSize:"17px"},"&:not(.Mui-checked) .MuiSvgIcon-root":{fontSize:"14px",backgroundColor:j[e],borderRadius:"50%"}}}))},e);var t}))})]})},j=i(4225),C=function(){var e=(0,j.a)().user;return(0,x.jsxs)("div",{className:o.Z.OBFiltersModalContainer,"data-theme":e.theme,children:[(0,x.jsx)("h4",{className:o.Z.OBFiltersModalTitle,children:"Filters"}),(0,x.jsx)("hr",{}),(0,x.jsxs)("div",{className:o.Z.OBFiltersModalContent,children:[(0,x.jsx)(Z,{parentComponent:"FiltersModal"}),(0,x.jsx)("p",{className:o.Z.OBFiltersModalShow,onClick:function(){console.log("Filtered tasks will be shown")},children:"Show all"})]})]})},f=i(5488),g=i(7609),v=function(e){var t=e.className,i=(0,n.useState)(!1),a=(0,r.Z)(i,2),s=a[0],l=a[1],d=(0,j.$)().boardById,c=function(){l(!1)};return(0,x.jsx)("div",{className:t,children:(0,x.jsxs)("div",{className:o.Z.KkWrapFilters,children:[(0,x.jsx)("h2",{className:o.Z.KkTitle,style:{padding:!d.background&&"4px"},children:d.title}),(0,x.jsxs)("button",{className:o.Z.KkBtnFilters,onClick:function(){l(!0)},children:[(0,x.jsx)("svg",{width:"16px",height:"16px",children:(0,x.jsx)("use",{href:"".concat(g.Z,"#icon-filter")})}),s&&(0,x.jsx)(f.u,{isOpen:s,onClose:c,children:(0,x.jsx)(C,{onClose:c})}),(0,x.jsx)("p",{children:"Filters"})]})]})})},b=i(3733),B=function(e){var t=e.className,i=e.title,n=e.theme,a=e.onClick;return(0,x.jsx)("div",{className:t,children:(0,x.jsxs)("button",{className:(0,b.Z)(o.Z.KkBtnColumn,o.Z[n]),onClick:a,children:[(0,x.jsx)("div",{className:(0,b.Z)(o.Z.KkIconPlusColumn,o.Z[n]),children:(0,x.jsx)("svg",{className:(0,b.Z)(o.Z[n]),width:"14px",height:"14px",children:(0,x.jsx)("use",{href:"".concat(g.Z,"#icon-plus")})})}),(0,x.jsx)("p",{className:(0,b.Z)(o.Z[n]),children:i})]})})},k=i(4942),N=i(7689),M=function(e){var t=e.modalTitle,i=e.modalBtnTitle,s=e.onClose,d=e.operation,c=e.idColumn,u=e.infoData,h=(0,j.a)().user,p=(0,N.UO)(),m=(0,a.I0)(),Z=(0,n.useState)(u?{title:u.title}:{title:""}),C=(0,r.Z)(Z,2),f=C[0],v=C[1];return(0,x.jsxs)("div",{className:o.Z.AAColumnContainer,"data-theme":h.theme,children:[(0,x.jsx)("h4",{className:o.Z.AAColumnTitle,children:t}),(0,x.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=c?{title:f.title,idColumn:c}:{title:f.title,board:p.boardName};m(d(t)),s()},autoComplete:"off",children:[(0,x.jsx)("label",{children:(0,x.jsx)("input",{type:"text",name:"title",placeholder:"Title",autoFocus:!0,required:!0,className:o.Z.AAColumnInput,value:f.title||"",onChange:function(e){var t=e.target,i=t.name,n=t.value;v((function(e){return(0,l.Z)((0,l.Z)({},e),{},(0,k.Z)({},i,n))}))}})}),(0,x.jsxs)("button",{type:"submit",className:o.Z.AAColumnBtn,children:[(0,x.jsx)("div",{className:o.Z.AAColumnSvgContainer,children:(0,x.jsx)("svg",{className:o.Z.AAColumnSvg,children:(0,x.jsx)("use",{href:g.Z+"#icon-plus"})})}),i]})]})]})},y=function(e){var t=e.title,i=e.className,n=e.theme,a=e.onClick;return(0,x.jsx)("div",{className:i,children:(0,x.jsxs)("button",{className:(0,b.Z)(o.Z.KkBtnCard,o.Z[n]),onClick:a,children:[(0,x.jsx)("div",{className:(0,b.Z)(o.Z.KkIconPlusCard,o.Z[n]),children:(0,x.jsx)("svg",{className:(0,b.Z)(o.Z[n]),width:"14px",height:"14px",children:(0,x.jsx)("use",{href:"".concat(g.Z,"#icon-plus")})})}),(0,x.jsx)("p",{className:(0,b.Z)(o.Z[n]),children:t})]})})},O=i(3466),w=i(7892),S=i.n(w),A=i(1652),D=i(4750),I=i(5101),T=function(e){var t=e.modalTitle,i=e.idColumn,s=e.id,p=e.cardTitle,Z=e.description,C=e.priority,f=e.deadline,v=e.modalBtnTitle,b=e.onClose,B=e.operation,k=(0,j.a)().user,M=(0,a.I0)(),y=(0,N.UO)().boardName,w=(0,n.useState)(p),T=(0,r.Z)(w,2),P=T[0],F=T[1],K=(0,n.useState)(Z),W=(0,r.Z)(K,2),E=W[0],Y=W[1],z=(0,n.useState)(C||"without"),H=(0,r.Z)(z,2),L=H[0],R=H[1],U=(0,n.useState)("auto"),V=(0,r.Z)(U,2),_=V[0],q=V[1],G=(0,n.useState)(!1),$=(0,r.Z)(G,2),J=$[0],Q=$[1],X=(0,n.useState)(f?S()(f,"DD/MM/YYYY"):S()()),ee=(0,r.Z)(X,2),te=ee[0],ie=ee[1],ne=S()(te).format("dddd, MMMM D")===S()().format("dddd, MMMM D")?"[Today,] MMMM D":"dddd, MMMM D",ae={low:d.Z[200],medium:c.Z[200],high:u.Z[200],without:h.Z[400]};return(0,n.useEffect)((function(){var e=9*te.format(ne).length;q("".concat(e,"px"))}),[te,ne]),(0,x.jsxs)("div",{className:o.Z.OBAddContainer,"data-theme":k.theme,children:[(0,x.jsx)("h4",{className:o.Z.OBAddTitle,children:t}),(0,x.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t={title:e.target.elements.title.value.trim(),description:e.target.elements.description.value.trim(),priority:e.target.elements.priority.value,deadLine:S()(te).format("DD/MM/YYYY")};M(B(s?(0,l.Z)((0,l.Z)({},t),{},{taskOwner:i,idTask:s,boardId:y}):(0,l.Z)((0,l.Z)({},t),{},{taskOwner:i,boardId:y}))),e.target.reset(),e.currentTarget===e.target&&(b(),document.body.style.overflow="visible")},autoComplete:"off",children:[(0,x.jsx)("label",{children:(0,x.jsx)("input",{type:"text",name:"title",placeholder:"Title",autoFocus:!0,required:!0,className:o.Z.OBAddInput,defaultValue:P,onChange:function(e){return F(e.target.value)}})}),(0,x.jsx)("label",{children:(0,x.jsx)("textarea",{type:"text",name:"description",placeholder:"Description",className:"".concat(o.Z.OBAddInput," ").concat(o.Z.OBAddDescription),defaultValue:E,onChange:function(e){return Y(e.target.value)}})}),(0,x.jsxs)("div",{className:o.Z.OBAddlabel,children:["Label color",(0,x.jsx)("div",{className:o.Z.OBAddRadioGroup,children:Object.keys(ae).map((function(e){return(0,x.jsx)(m.Z,(0,l.Z)((0,l.Z)({className:o.Z.OBAddradioBtn},{value:t=e,onChange:function(e){return R(e.target.value)},checked:L===t,name:"priority",inputProps:{"aria-label":t}}),{},{sx:{color:ae[e],"&.Mui-checked":{color:ae[e]},"&.Mui-checked .MuiSvgIcon-root":{fontSize:"17px"},"&:not(.Mui-checked) .MuiSvgIcon-root":{fontSize:"14px",backgroundColor:ae[e],borderRadius:"50%"}}}),e);var t}))})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("p",{className:o.Z.OBAddlabel,children:"Deadline"}),(0,x.jsx)(A._,{dateAdapter:D.y,children:(0,x.jsx)(I.M,{open:J,onClose:function(){return Q(!1)},onChange:function(e){return ie(e)},value:te,format:ne,disablePast:!0,outsideCurrentMonth:!0,dayOfWeekFormatter:function(e){return e.slice(0,2).toUpperCase()},slots:{openPickerButton:function(){return null}},slotProps:{popper:{placement:"bottom-start",sx:{".css-71vzt-MuiPaper-root-MuiPickersPopper-paper":{border:"1px solid",borderColor:"violet"===k.theme?"#585bbe":"#bedfad",borderRadius:"8px",padding:"18px",width:"233px",height:"254px"},".MuiPickersLayout-root.":{width:"197px"},".MuiDateCalendar-root":{width:"197px",hight:"166px"},".css-cwhad8-MuiDateCalendar-root":{height:"215px"},".MuiPickersLayout-contentWrapper":{width:"197px"},".MuiPickersCalendarHeader-root":{textAlign:"center",borderBottom:"1px solid rgba(22, 22, 22, 0.20)"},".MuiPickersCalendarHeader-label":{margin:0},".MuiTypography-root":{marginTop:"14px",width:"23px",height:"23px"},".MuiDayCalendar-monthContainer":{width:"197px",hight:"166px"},".MuiDayCalendar-weekContainer":{marginBottom:"3px"},".MuiPickersDay-dayWithMargin":{width:"23px",height:"23px"},".MuiButtonBase-root":{width:"23px",height:"23px"},".MuiPickersDay-root":{fontFamily:"Poppins",fontSize:"14px",fontweight:"400",lineHeight:"18px"},".MuiPickersDay-root.Mui-selected":{backgroundColor:"violet"===k.theme?"#585bbe":"#bedfad","&:hover":{backgroundColor:"violet"===k.theme?"#8d8fc9":"#9fd186"}}}},calendarHeader:{sx:{".MuiPickersCalendarHeader-root":{position:"relative"},".MuiPickersCalendarHeader-labelContainer":{fontFamily:"Poppins, sans-serif",fontSize:"16px",fontWeight:500,letterSpacing:"-0.32px",display:"grid"},".MuiPickersCalendarHeader-label":{display:"inline-block"},".MuiPickersCalendarHeader-switchViewButton":{display:"none"},".MuiIconButton-edgeEnd":{position:"absolute",top:"17px",left:"14px"},".MuiIconButton-edgeStart":{position:"absolute",top:"17px",right:"12px"}},style:{display:"inline",margin:0,padding:0}},previousIconButton:{sx:{stroke:"violet"===k.theme?"#5255BC":"#BEDBB0"}},nextIconButton:{sx:{stroke:"violet"===k.theme?"#5255BC":"#BEDBB0"}},textField:{fullWidth:!1,onClick:function(){return Q(!0)},variant:"standard",size:"small",sx:{width:_,minWidth:"130px",".css-nz481w-MuiInputBase-input-MuiInput-input":{padding:0}},InputProps:{disableUnderline:!0,"aria-label":"deadline",style:{fontSize:"14px",fontFamily:"Poppins, sans-serif",color:"violet"===k.theme?"#5255BC":"#BEDBB0",fontWeight:500},endAdornment:(0,x.jsx)(O.Z,{position:"start",sx:{cursor:"pointer"},children:(0,x.jsx)("svg",{className:o.Z.OBAddDateIcon,width:"18px",children:(0,x.jsx)("use",{href:g.Z+"#icon-chevron-down","aria-label":"open calendar",edge:"start"})})})}}}})})]}),(0,x.jsxs)("button",{type:"submit",className:o.Z.OBAddSubmitBtn,children:[(0,x.jsx)("div",{className:o.Z.OBAddIconWrapper,children:(0,x.jsx)("svg",{className:o.Z.OBAddSubmitIcon,children:(0,x.jsx)("use",{href:g.Z+"#icon-plus"})})}),v]})]})]})},P=function(e,t){switch(e){case"low":return"#8FA1D0";case"medium":return"rgba(224, 156, 181, 1)";case"high":return"#BEDBB0";case"without":return t}},F=function(e){var t=e.id,i=e.cardTitle,l=e.description,d=e.priority,c=e.deadline,u=e.idColumn,h=(0,j.a)().user,p=(0,N.UO)().boardName,m=(0,n.useState)(!1),Z=(0,r.Z)(m,2),C=Z[0],v=Z[1],b=(0,n.useState)(!1),B=(0,r.Z)(b,2),k=B[0],M=B[1],y=(0,a.I0)(),O=S()().format("DD/MM/YYYY")===c,w=function(){v(!1)};return(0,x.jsxs)("div",{style:{borderLeftColor:P(d,"dark"===h.theme?"rgba(255, 255, 255, 0.30)":"rgba(22, 22, 22, 0.30)")},className:o.Z.OBCardContainer,"data-theme":h.theme,children:[(0,x.jsx)("h4",{className:o.Z.OBCardTitle,children:i}),(0,x.jsx)("p",{className:"".concat(o.Z.OBCardDescription,"  ").concat(k?o.Z.OBCardDescriptionFull:o.Z.OBCardDescriptionShort),onClick:function(){M(!k)},children:l}),(0,x.jsx)("hr",{className:o.Z.OBCardSeparator}),(0,x.jsxs)("div",{className:o.Z.OBCardFooterContainer,children:[(0,x.jsxs)("table",{className:o.Z.OBCardValuesContainer,children:[(0,x.jsx)("thead",{children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{className:o.Z.OBCardProreties,children:"Priority"}),(0,x.jsx)("th",{className:o.Z.OBCardProreties,children:"Deadline"})]})}),(0,x.jsx)("tbody",{children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{children:(0,x.jsx)("div",{style:{backgroundColor:P(d,"dark"===h.theme?"rgba(255, 255, 255, 0.30)":"rgba(22, 22, 22, 0.30)")},className:o.Z.OBCardPriorityCircle})}),(0,x.jsx)("td",{className:o.Z.OBCardDate,children:c})]})})]}),(0,x.jsxs)("div",{className:o.Z.OBCardIconsWrapper,children:[O&&(0,x.jsx)("svg",{className:o.Z.OBCardBellIcon,width:"16",height:"16",style:{stroke:"violet"===h.theme?"#585bbe":"#bedfad"},children:(0,x.jsx)("use",{href:g.Z+"#icon-bell"})}),(0,x.jsx)("button",{type:"button",className:o.Z.OBCardBtnIcon,"aria-label":"edit task",onClick:function(){v(!0)},children:(0,x.jsx)("svg",{width:"16",height:"16",children:(0,x.jsx)("use",{href:g.Z+"#icon-pencil"})})}),C&&(0,x.jsx)(f.u,{isOpen:C,onClose:w,children:(0,x.jsx)(T,{idColumn:u,modalTitle:"Edit card",id:t,cardTitle:i,description:l,priority:d,deadline:c,modalBtnTitle:"Edit",operation:s.tq,onClose:w})}),(0,x.jsx)("button",{type:"button",className:o.Z.OBCardBtnIcon,"aria-label":"move task to another column",children:(0,x.jsx)("svg",{width:"16",height:"16",children:(0,x.jsx)("use",{href:g.Z+"#icon-arrow"})})}),(0,x.jsx)("button",{type:"button",className:o.Z.OBCardBtnIcon,"aria-label":"delete task",onClick:function(){return y((0,s.il)({id:t,boardName:p}))},children:(0,x.jsx)("svg",{width:"16",height:"16",children:(0,x.jsx)("use",{href:g.Z+"#icon-trash"})})})]})]})]})},K=function(e){var t=e.className,i=e.title,n=e.theme,a=e.onEdit,s=e.onTrash;return(0,x.jsx)("div",{className:t,children:(0,x.jsxs)("div",{className:(0,b.Z)(o.Z.KkWrapTitleCards,o.Z[n]),children:[(0,x.jsxs)("p",{className:(0,b.Z)(o.Z[n]),children:[" ",i]}),(0,x.jsxs)("div",{className:o.Z.KkSvgTitleCards,children:[(0,x.jsx)("button",{className:o.Z.KkBtnIcons,onClick:a,children:(0,x.jsx)("svg",{className:(0,b.Z)(o.Z[n]),width:"16px",height:"16px",children:(0,x.jsx)("use",{href:"".concat(g.Z,"#icon-pencil")})})}),(0,x.jsx)("button",{className:o.Z.KkBtnIcons,onClick:s,children:(0,x.jsx)("svg",{className:(0,b.Z)(o.Z[n]),width:"16px",height:"16px",children:(0,x.jsx)("use",{href:"".concat(g.Z,"#icon-trash")})})})]})]})})},W=function(){var e=window.innerWidth,t=window.innerHeight,i=(0,j.$)().columns,l=(0,a.I0)(),d=(0,n.useState)(!1),c=(0,r.Z)(d,2),u=c[0],h=c[1],p=(0,n.useState)(!1),m=(0,r.Z)(p,2),Z=m[0],C=m[1],g=(0,n.useState)(!1),b=(0,r.Z)(g,2),k=b[0],N=b[1],O=(0,n.useState)(""),w=(0,r.Z)(O,2),S=w[0],A=w[1],D=(0,n.useState)(""),I=(0,r.Z)(D,2),P=I[0],W=I[1],E=function(){h(!1)},Y=function(){C(!1)},z=function(){N(!1)},H=function(e){A(e)};return(0,x.jsxs)("div",{className:o.Z.KkSectionMainDashboard,style:{width:e>1200?"calc(".concat(e,"px - ",270,"px)"):"".concat(e,"px"),height:"calc(".concat(t,"px - ",e>768?68:60,"px)")},children:[(0,x.jsx)(v,{className:o.Z.KkFilters}),(0,x.jsxs)("ul",{className:o.Z.KkColums,children:[i&&i.map((function(e){var t=e._id,i=e.title,n=e.tasks;return(0,x.jsxs)("li",{children:[(0,x.jsx)(K,{className:o.Z.TitleCards,title:i,onEdit:function(){C(!0),H(t),function(e){W(e)}(i)},onTrash:function(){return l((0,s.eA)(t))}}),n&&(0,x.jsx)("ul",{className:o.Z.KkCards,children:n.map((function(e){var i=e.title,n=e.description,a=e.priority,s=e.deadLine,r=e._id;return(0,x.jsx)("li",{children:(0,x.jsx)(F,{cardTitle:i,id:r,description:n,priority:a,deadline:s,idColumn:t})},r)}))}),(0,x.jsx)(y,{className:o.Z.KkBtnAddCard,title:"Add another card",theme:"light",onClick:function(){N(!0),H(t)}})]},t)})),(0,x.jsx)(B,{className:o.Z.KkBtnAddColumnMain,title:"Add another column",theme:"light",onClick:function(){h(!0)}})]}),u&&(0,x.jsx)(f.u,{isOpen:u,onClose:E,children:(0,x.jsx)(M,{modalTitle:"Add column",modalBtnTitle:"Add",onClose:E,operation:s.Wf})}),Z&&(0,x.jsx)(f.u,{isOpen:Z,onClose:Y,children:(0,x.jsx)(M,{modalTitle:"Edit column",modalBtnTitle:"Add",onClose:Y,idColumn:S,infoData:{title:P},operation:s.L9})}),k&&(0,x.jsx)(f.u,{isOpen:k,onClose:z,children:(0,x.jsx)(T,{modalTitle:"Add card",modalBtnTitle:"Add",onClose:z,idColumn:S,operation:s.Sv})})]})},E=function(){var e=(0,a.I0)(),t=(0,N.UO)().boardName;return(0,n.useEffect)((function(){e((0,s.sj)()),e((0,s.WU)(t))}),[t,e]),(0,x.jsx)("section",{children:(0,x.jsx)(W,{})})},Y=function(){return(0,x.jsx)(x.Fragment,{children:(0,x.jsx)(E,{})})}}}]);
//# sourceMappingURL=670.a306581d.chunk.js.map