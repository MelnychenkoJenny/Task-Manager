"use strict";(self.webpackChunktask_manager=self.webpackChunktask_manager||[]).push([[747],{4747:function(e,t,n){n.r(t),n.d(t,{default:function(){return z}});var i=n(2791),a=n(9434),r=n(132),s=n(9439),o=n(3418),l=n(7609),d=n(4225),c=n(1413),u=n(5519),h=n(8546),m=n(4378),p=n(9852),x=n(2114),Z=n(890),f=n(1862),j=n(1634),C=n(184),v=function(e){var t=e.parentComponent,n=e.priority,r=(0,a.I0)(),l=(0,d.$)().filter,v=(0,d.a)().user,b=(0,i.useState)(l),g=(0,s.Z)(b,2),k=g[0],B=g[1],N=(0,i.useState)("FiltersModal"===t?"none":n||"without"),M=(0,s.Z)(N,2),y=M[0],w=M[1];(0,i.useEffect)((function(){r((0,j.l)(k))}),[r,k]);var O="FiltersModal"===t?{without:u.Z[400],low:h.Z[200],medium:m.Z[200],high:p.Z[200]}:{low:h.Z[200],medium:m.Z[200],high:p.Z[200],without:u.Z[400]};function I(e){return e.charAt(0).toUpperCase()+e.slice(1)}return(0,C.jsxs)("div",{children:[(0,C.jsx)("h3",{className:o.Z.OBFiltersModalLabel,children:"Label color"}),(0,C.jsx)("div",{className:"".concat("FiltersModal"===t?o.Z.OBFiltersModalRadioGroupV:o.Z.OBFiltersModalRadioGroupH),children:Object.keys(O).map((function(e){return(0,C.jsx)(x.Z,{label:"FiltersModal"===t?(0,C.jsx)(Z.Z,{style:{fontSize:"12px",fontFamily:"Poppins, sans-serif",color:"dark"===v.theme?"rgba(255, 255, 255, 0.50)":"rgba(22, 22, 22, 0.50)"},sx:{"&.Mui-checked":{color:O[e]}},children:"without"===e?"Without priority":I(e)}):null,className:"FiltersModal"===t?o.Z.OBFiltersModalRadioLabelV:o.Z.OBFiltersModalRadioLabelH,control:(0,C.jsx)(f.Z,(0,c.Z)((0,c.Z)({className:o.Z.OBFiltersModalRadioBtn},(n=e,{value:n,onChange:"FiltersModal"===t?function(e){return B(e.target.value)}:function(e){return w(e.target.value)},checked:"FiltersModal"===t?k===n:y===n,name:"priority",inputProps:{"aria-label":n}})),{},{sx:{color:O[e],"&.Mui-checked":{color:O[e]},"&.Mui-checked .MuiSvgIcon-root":{fontSize:"17px"},"&:not(.Mui-checked) .MuiSvgIcon-root":{fontSize:"14px",backgroundColor:O[e],borderRadius:"50%"}}}))},e);var n}))})]})},b=function(e){var t=e.className,n=(0,a.I0)(),r=(0,i.useState)(!1),c=(0,s.Z)(r,2),u=c[0],h=c[1],m=(0,d.$)().boardById,p=(0,d.a)().user;return(0,i.useEffect)((function(){var e=function(e){"Escape"===e.code&&h(!1)};return window.addEventListener("keydown",e),function(){return window.removeEventListener("keydown",e)}}),[u]),(0,C.jsx)("div",{className:"".concat(t," ").concat(o.Z.OBFilterModalContainer),"data-theme":p.theme,children:(0,C.jsxs)("div",{className:o.Z.KkWrapFilters,children:[(0,C.jsx)("h2",{className:o.Z.KkTitle,style:{padding:!m.background&&"4px"},children:m.title}),(0,C.jsxs)("button",{type:"button",className:o.Z.KkBtnFilters,onClick:function(){h(!0)},children:[(0,C.jsx)("svg",{width:"16px",height:"16px",children:(0,C.jsx)("use",{href:"".concat(l.Z,"#icon-filter")})}),(0,C.jsx)("p",{children:"Filters"})]}),u&&(0,C.jsxs)("div",{className:o.Z.OBFiltersModalContainer,style:{opacity:u?1:0},"data-theme":p.theme,children:[(0,C.jsx)("button",{type:"button",className:o.Z.OBFilterBtnIcon,"aria-label":"close",onClick:function(){h(!1)},children:(0,C.jsx)("svg",{width:"18",height:"18",children:(0,C.jsx)("use",{className:"icon",href:l.Z+"#icon-close"})})}),(0,C.jsx)("h4",{className:o.Z.OBFiltersModalTitle,children:"Filters"}),(0,C.jsx)("hr",{className:o.Z.OBFiltersModalSeparator}),(0,C.jsxs)("div",{className:o.Z.OBFiltersModalContent,children:[(0,C.jsx)(v,{parentComponent:"FiltersModal"}),(0,C.jsx)("p",{className:o.Z.OBFiltersModalShow,onClick:function(){n((0,j.l)("all"))},children:"Show all"})]})]})]})})},g=n(3733),k=function(e){var t=e.className,n=e.title,i=e.theme,a=e.onClick;return(0,C.jsx)("div",{className:t,children:(0,C.jsxs)("button",{className:(0,g.Z)(o.Z.KkBtnColumn,o.Z[i]),onClick:a,children:[(0,C.jsx)("div",{className:(0,g.Z)(o.Z.KkIconPlusColumn,o.Z[i]),children:(0,C.jsx)("svg",{className:(0,g.Z)(o.Z[i]),width:"14px",height:"14px",children:(0,C.jsx)("use",{href:"".concat(l.Z,"#icon-plus")})})}),(0,C.jsx)("p",{className:(0,g.Z)(o.Z[i]),children:n})]})})},B=n(5488),N=n(4942),M=n(7689),y=function(e){var t=e.modalTitle,n=e.modalBtnTitle,r=e.onClose,u=e.operation,h=e.idColumn,m=e.infoData,p=(0,d.a)().user,x=(0,M.UO)(),Z=(0,a.I0)(),f=(0,i.useState)(m?{title:m.title}:{title:""}),j=(0,s.Z)(f,2),v=j[0],b=j[1];return(0,C.jsxs)("div",{className:o.Z.AAColumnContainer,"data-theme":p.theme,children:[(0,C.jsx)("h4",{className:o.Z.AAColumnTitle,children:t}),(0,C.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=h?{title:v.title,idColumn:h}:{title:v.title,board:x.boardName};Z(u(t)),r()},autoComplete:"off",children:[(0,C.jsx)("label",{children:(0,C.jsx)("input",{type:"text",name:"title",placeholder:"Title",autoFocus:!0,required:!0,className:o.Z.AAColumnInput,value:v.title||"",onChange:function(e){var t=e.target,n=t.name,i=t.value;b((function(e){return(0,c.Z)((0,c.Z)({},e),{},(0,N.Z)({},n,i))}))}})}),(0,C.jsxs)("button",{type:"submit",className:o.Z.AAColumnBtn,children:[(0,C.jsx)("div",{className:o.Z.AAColumnSvgContainer,children:(0,C.jsx)("svg",{className:o.Z.AAColumnSvg,children:(0,C.jsx)("use",{href:l.Z+"#icon-plus"})})}),n]})]})]})},w=function(e){var t=e.title,n=e.className,i=e.theme,a=e.onClick;return(0,C.jsx)("div",{className:n,children:(0,C.jsxs)("button",{className:(0,g.Z)(o.Z.KkBtnCard,o.Z[i]),onClick:a,children:[(0,C.jsx)("div",{className:(0,g.Z)(o.Z.KkIconPlusCard,o.Z[i]),children:(0,C.jsx)("svg",{className:(0,g.Z)(o.Z[i]),width:"14px",height:"14px",children:(0,C.jsx)("use",{href:"".concat(l.Z,"#icon-plus")})})}),(0,C.jsx)("p",{className:(0,g.Z)(o.Z[i]),children:t})]})})},O=n(3466),I=n(7892),S=n.n(I),A=n(1652),F=n(4750),T=n(5101),D=function(e){var t=e.modalTitle,n=e.idColumn,r=e.id,u=e.cardTitle,h=e.description,m=e.priority,p=e.deadline,x=e.modalBtnTitle,Z=e.onClose,f=e.operation,j=(0,d.a)().user,b=(0,a.I0)(),g=(0,M.UO)().boardName,k=(0,i.useState)(u),B=(0,s.Z)(k,2),N=B[0],y=B[1],w=(0,i.useState)(h),I=(0,s.Z)(w,2),D=I[0],P=I[1],E=(0,i.useState)("auto"),K=(0,s.Z)(E,2),L=K[0],W=K[1],H=(0,i.useState)(!1),Y=(0,s.Z)(H,2),z=Y[0],R=Y[1],U=(0,i.useState)(p?S()(p,"DD/MM/YYYY"):S()()),V=(0,s.Z)(U,2),_=V[0],$=V[1],q=S()(_).format("dddd, MMMM D")===S()().format("dddd, MMMM D")?"[Today,] MMMM D":"dddd, MMMM D";return(0,i.useEffect)((function(){var e=9*_.format(q).length;W("".concat(e,"px"))}),[_,q]),(0,C.jsxs)("div",{className:o.Z.OBAddContainer,"data-theme":j.theme,children:[(0,C.jsx)("h4",{className:o.Z.OBAddTitle,children:t}),(0,C.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=e.target.elements.title.value.trim(),i=e.target.elements.description.value.trim();""===i&&(i=" ");var a={title:t,description:i,priority:e.target.elements.priority.value,deadLine:S()(_).format("DD/MM/YYYY")};b(f(r?(0,c.Z)((0,c.Z)({},a),{},{taskOwner:n,idTask:r,boardId:g}):(0,c.Z)((0,c.Z)({},a),{},{taskOwner:n,boardId:g}))),e.target.reset(),e.currentTarget===e.target&&(Z(),document.body.style.overflow="visible")},autoComplete:"off",children:[(0,C.jsx)("label",{children:(0,C.jsx)("input",{type:"text",name:"title",placeholder:"Title",autoFocus:!0,required:!0,className:o.Z.OBAddInput,defaultValue:N,onChange:function(e){return y(e.target.value)}})}),(0,C.jsx)("label",{children:(0,C.jsx)("textarea",{type:"text",name:"description",placeholder:"Description",className:"".concat(o.Z.OBAddInput," ").concat(o.Z.OBAddDescription),defaultValue:D,onChange:function(e){return P(e.target.value)}})}),(0,C.jsx)(v,{parentComponent:"AddCard",priority:m}),(0,C.jsxs)("div",{children:[(0,C.jsx)("p",{className:o.Z.OBAddlabel,children:"Deadline"}),(0,C.jsx)(A._,{dateAdapter:F.y,children:(0,C.jsx)(T.M,{open:z,onClose:function(){return R(!1)},onChange:function(e){return $(e)},value:_,format:q,disablePast:!0,outsideCurrentMonth:!0,dayOfWeekFormatter:function(e){return e.slice(0,2).toUpperCase()},slots:{openPickerButton:function(){return null}},slotProps:{popper:{placement:"bottom-start",sx:{".css-71vzt-MuiPaper-root-MuiPickersPopper-paper":{border:"1px solid",borderColor:"violet"===j.theme?"#585bbe":"#bedfad",borderRadius:"8px",padding:"18px",width:"233px",height:"254px"},".MuiPickersLayout-root.":{width:"197px"},".MuiDateCalendar-root":{width:"197px",hight:"166px"},".css-cwhad8-MuiDateCalendar-root":{height:"215px"},".MuiPickersLayout-contentWrapper":{width:"197px"},".MuiPickersCalendarHeader-root":{textAlign:"center",borderBottom:"1px solid rgba(22, 22, 22, 0.20)"},".MuiPickersCalendarHeader-label":{margin:0},".MuiTypography-root":{marginTop:"14px",width:"23px",height:"23px"},".MuiDayCalendar-monthContainer":{width:"197px",hight:"166px"},".MuiDayCalendar-weekContainer":{marginBottom:"3px"},".MuiPickersDay-dayWithMargin":{width:"23px",height:"23px"},".MuiButtonBase-root":{width:"23px",height:"23px"},".MuiPickersDay-root":{fontFamily:"Poppins",fontSize:"14px",fontweight:"400",lineHeight:"18px"},".MuiPickersDay-root.Mui-selected":{backgroundColor:"violet"===j.theme?"#585bbe":"#bedfad","&:hover":{backgroundColor:"violet"===j.theme?"#8d8fc9":"#9fd186"}}}},calendarHeader:{sx:{".MuiPickersCalendarHeader-root":{position:"relative"},".MuiPickersCalendarHeader-labelContainer":{fontFamily:"Poppins, sans-serif",fontSize:"16px",fontWeight:500,letterSpacing:"-0.32px",display:"grid"},".MuiPickersCalendarHeader-label":{display:"inline-block"},".MuiPickersCalendarHeader-switchViewButton":{display:"none"},".MuiIconButton-edgeEnd":{position:"absolute",top:"17px",left:"14px"},".MuiIconButton-edgeStart":{position:"absolute",top:"17px",right:"12px"}},style:{display:"inline",margin:0,padding:0}},previousIconButton:{sx:{stroke:"violet"===j.theme?"#5255BC":"#BEDBB0"}},nextIconButton:{sx:{stroke:"violet"===j.theme?"#5255BC":"#BEDBB0"}},textField:{fullWidth:!1,onClick:function(){return R(!0)},variant:"standard",size:"small",sx:{width:L,minWidth:"130px",".css-nz481w-MuiInputBase-input-MuiInput-input":{padding:0}},InputProps:{disableUnderline:!0,"aria-label":"deadline",style:{fontSize:"14px",fontFamily:"Poppins, sans-serif",color:"violet"===j.theme?"#5255BC":"#BEDBB0",fontWeight:500},endAdornment:(0,C.jsx)(O.Z,{position:"start",sx:{cursor:"pointer"},children:(0,C.jsx)("svg",{className:o.Z.OBAddDateIcon,width:"18px",children:(0,C.jsx)("use",{href:l.Z+"#icon-chevron-down","aria-label":"open calendar",edge:"start"})})})}}}})})]}),(0,C.jsxs)("button",{type:"submit",className:o.Z.OBAddSubmitBtn,children:[(0,C.jsx)("div",{className:o.Z.OBAddIconWrapper,children:(0,C.jsx)("svg",{className:o.Z.OBAddSubmitIcon,children:(0,C.jsx)("use",{href:l.Z+"#icon-plus"})})}),x]})]})]})},P=function(e){var t=e.className,n=e.title,i=e.theme,a=e.onEdit,r=e.onTrash;return(0,C.jsx)("div",{className:t,children:(0,C.jsxs)("div",{className:(0,g.Z)(o.Z.KkWrapTitleCards,o.Z[i]),children:[(0,C.jsxs)("p",{className:(0,g.Z)(o.Z[i]),children:[" ",n]}),(0,C.jsxs)("div",{className:o.Z.KkSvgTitleCards,children:[(0,C.jsx)("button",{className:o.Z.KkBtnIcons,onClick:a,children:(0,C.jsx)("svg",{className:(0,g.Z)(o.Z[i]),width:"16px",height:"16px",children:(0,C.jsx)("use",{href:"".concat(l.Z,"#icon-pencil")})})}),(0,C.jsx)("button",{className:o.Z.KkBtnIcons,onClick:r,children:(0,C.jsx)("svg",{className:(0,g.Z)(o.Z[i]),width:"16px",height:"16px",children:(0,C.jsx)("use",{href:"".concat(l.Z,"#icon-trash")})})})]})]})})},E=n(2486),K=function(e,t){switch(e){case"low":return"#8FA1D0";case"medium":return"rgba(224, 156, 181, 1)";case"high":return"#BEDBB0";case"without":return t}},L=function(e){var t=e.id,n=e.cardTitle,c=e.description,u=e.priority,h=e.deadline,m=e.idColumn,p=e.taskOwner,x=(0,d.a)().user,Z=(0,d.$)().columns,f=(0,M.UO)().boardName,j=(0,i.useState)(!1),v=(0,s.Z)(j,2),b=v[0],g=v[1],k=(0,i.useState)(!1),N=(0,s.Z)(k,2),y=N[0],w=N[1],O=(0,a.I0)(),I=S()().format("DD/MM/YYYY")===h,A=(0,i.useState)(!1),F=(0,s.Z)(A,2),T=F[0],P=F[1],E=function(){g(!1)};(0,i.useEffect)((function(){var e=function(e){"Escape"===e.code&&P(!1)};return window.addEventListener("keydown",e),function(){return window.removeEventListener("keydown",e)}}),[T]);var L=function(e,t,n,i,a,s){O((0,r.tq)({taskOwner:e,title:t,description:n,priority:i,deadLine:a,idTask:s,boardId:f})),P(!1)};return(0,C.jsxs)("div",{style:{borderLeftColor:K(u,"dark"===x.theme?"rgba(255, 255, 255, 0.30)":"rgba(22, 22, 22, 0.30)")},className:o.Z.OBCardContainer,"data-theme":x.theme,children:[(0,C.jsx)("h4",{className:o.Z.OBCardTitle,children:n}),(0,C.jsx)("p",{className:"".concat(o.Z.OBCardDescription,"  ").concat(y?o.Z.OBCardDescriptionFull:o.Z.OBCardDescriptionShort),onClick:function(){w(!y)},children:c}),(0,C.jsx)("hr",{className:o.Z.OBCardSeparator}),(0,C.jsxs)("div",{className:o.Z.OBCardFooterContainer,children:[(0,C.jsxs)("table",{className:o.Z.OBCardValuesContainer,children:[(0,C.jsx)("thead",{children:(0,C.jsxs)("tr",{children:[(0,C.jsx)("th",{className:o.Z.OBCardProreties,children:"Priority"}),(0,C.jsx)("th",{className:o.Z.OBCardProreties,children:"Deadline"})]})}),(0,C.jsx)("tbody",{children:(0,C.jsxs)("tr",{children:[(0,C.jsx)("td",{children:(0,C.jsx)("div",{style:{backgroundColor:K(u,"dark"===x.theme?"rgba(255, 255, 255, 0.30)":"rgba(22, 22, 22, 0.30)")},className:o.Z.OBCardPriorityCircle})}),(0,C.jsx)("td",{className:o.Z.OBCardDate,children:h})]})})]}),(0,C.jsxs)("div",{className:o.Z.OBCardIconsWrapper,children:[I&&(0,C.jsx)("svg",{className:o.Z.OBCardBellIcon,width:"16",height:"16",style:{stroke:"violet"===x.theme?"#585bbe":"#bedfad"},children:(0,C.jsx)("use",{href:l.Z+"#icon-bell"})}),(0,C.jsx)("button",{type:"button",className:o.Z.OBCardBtnIcon,"aria-label":"edit task",onClick:function(){g(!0)},children:(0,C.jsx)("svg",{width:"16",height:"16",children:(0,C.jsx)("use",{href:l.Z+"#icon-pencil"})})}),b&&(0,C.jsx)(B.u,{isOpen:b,onClose:E,children:(0,C.jsx)(D,{idColumn:m,modalTitle:"Edit card",id:t,cardTitle:n,description:c,priority:u,deadline:h,modalBtnTitle:"Edit",operation:r.tq,onClose:E})}),(0,C.jsx)("button",{type:"button",className:o.Z.OBCardBtnIcon,onClick:function(){P(!0)},"aria-label":"move task to another column",children:(0,C.jsx)("svg",{width:"16",height:"16",children:(0,C.jsx)("use",{href:l.Z+"#icon-arrow"})})}),T&&(0,C.jsx)("div",{className:o.Z.OBCardPopupContainer,children:(0,C.jsx)("ul",{className:o.Z.OBCardPopupList,children:Z&&Z.map((function(e){var n=e._id,i=e.title;return(0,C.jsxs)("li",{className:p===n?"".concat(o.Z.OBCardPopupItem," ").concat(o.Z.disabledTransfer):o.Z.OBCardPopupItem,children:[(0,C.jsx)("p",{className:o.Z.OBCardPopupText,children:i}),(0,C.jsx)("button",{type:"button",className:o.Z.OBCardBtnIcon,"aria-label":"change column",onClick:function(){return L(n,i,c,u,h,t)},children:(0,C.jsx)("svg",{width:"16",height:"16",children:(0,C.jsx)("use",{href:l.Z+"#icon-arrow"})})})]},n)}))})}),(0,C.jsx)("button",{type:"button",className:o.Z.OBCardBtnIcon,"aria-label":"delete task",onClick:function(){return O((0,r.il)({id:t,boardName:f}))},children:(0,C.jsx)("svg",{width:"16",height:"16",children:(0,C.jsx)("use",{href:l.Z+"#icon-trash"})})})]})]})]})},W=function(e){var t=e.allTasks,n=e.idColumn,i=(0,d.$)().filter,a="all"===i?t:t.filter((function(e){return(null===e||void 0===e?void 0:e.priority)===i}));return(0,C.jsx)("ul",{className:o.Z.KkCards,children:a.map((function(e){var t=e.title,i=e.description,a=e.priority,r=e.deadLine,s=e._id,o=e.taskOwner;return(0,C.jsx)("li",{children:(0,C.jsx)(L,{cardTitle:t,id:s,description:i,priority:a,deadline:r,idColumn:n,taskOwner:o})},s)}))})},H=function(){var e=(0,d.$)(),t=e.columns,n=e.boardById,l=(0,a.I0)(),c=(0,i.useState)(!1),u=(0,s.Z)(c,2),h=u[0],m=u[1],p=(0,i.useState)(!1),x=(0,s.Z)(p,2),Z=x[0],f=x[1],j=(0,i.useState)(!1),v=(0,s.Z)(j,2),g=v[0],N=v[1],M=(0,i.useState)(""),O=(0,s.Z)(M,2),I=O[0],S=O[1],A=(0,i.useState)(""),F=(0,s.Z)(A,2),T=F[0],K=F[1],L=function(){m(!1)},H=function(){f(!1)},Y=function(){N(!1)},z=function(e){S(e)},R=null===E.HE||void 0===E.HE?void 0:E.HE.find((function(e){return e.name===n.background})),U={maxHeight:"100%",backgroundImage:"url(".concat(null===R||void 0===R?void 0:R.mobile,")"),backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"};return window.innerWidth>=768&&(U.backgroundImage="url(".concat(null===R||void 0===R?void 0:R.tablet,")")),window.innerWidth>=1440&&(U.backgroundImage="url(".concat(null===R||void 0===R?void 0:R.desktop,")")),(0,C.jsxs)("div",{className:o.Z.KkSectionMainDashboard,style:U,children:[(0,C.jsx)(b,{className:o.Z.KkFilters}),(0,C.jsxs)("ul",{className:o.Z.KkColums,children:[t&&t.map((function(e){var t=e._id,n=e.title,i=e.tasks;return(0,C.jsxs)("li",{children:[(0,C.jsx)(P,{className:o.Z.TitleCards,title:n,onEdit:function(){f(!0),z(t),function(e){K(e)}(n)},onTrash:function(){return l((0,r.eA)(t))}}),i&&(0,C.jsx)(W,{allTasks:i,idColumn:t}),(0,C.jsx)(w,{className:o.Z.KkBtnAddCard,title:"Add another card",theme:"light",onClick:function(){N(!0),z(t)}})]},t)})),(0,C.jsx)(k,{className:o.Z.KkBtnAddColumnMain,title:"Add another column",theme:"light",onClick:function(){m(!0)}})]}),h&&(0,C.jsx)(B.u,{isOpen:h,onClose:L,children:(0,C.jsx)(y,{modalTitle:"Add column",modalBtnTitle:"Add",onClose:L,operation:r.Wf})}),Z&&(0,C.jsx)(B.u,{isOpen:Z,onClose:H,children:(0,C.jsx)(y,{modalTitle:"Edit column",modalBtnTitle:"Add",onClose:H,idColumn:I,infoData:{title:T},operation:r.L9})}),g&&(0,C.jsx)(B.u,{isOpen:g,onClose:Y,children:(0,C.jsx)(D,{modalTitle:"Add card",modalBtnTitle:"Add",onClose:Y,idColumn:I,operation:r.Sv})})]})},Y=function(){var e=(0,a.I0)(),t=(0,M.UO)().boardName;return(0,i.useEffect)((function(){e((0,r.sj)()),e((0,r.WU)(t))}),[t,e]),(0,C.jsx)("section",{children:(0,C.jsx)(H,{})})},z=function(){return(0,C.jsx)(C.Fragment,{children:(0,C.jsx)(Y,{})})}}}]);
//# sourceMappingURL=747.b462a56a.chunk.js.map