(self.webpackChunktask_manager=self.webpackChunktask_manager||[]).push([[908],{9109:function(){},908:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return H}});var s=n(2791),a=n(9434),i=n(132),l=n(4942),r=n(1413),c=n(9439),o=n(3418),d=n(7609),u=n(9248),h=n(5822),m=n(184),x=function(){var e=(0,s.useState)(!1),t=(0,c.Z)(e,2),n=t[0],x=t[1],p=(0,u.$)(),f=p.allBoards,j=p.boardById,Z=(0,u.a)().user,g=(0,a.I0)(),v=(0,s.useState)({title:"",icon:"",background:""}),k=(0,c.Z)(v,2),C=k[0],N=k[1],b=(0,s.useState)(""),B=(0,c.Z)(b,2),y=B[0],M=B[1],T=(0,s.useState)(Z.avatarURL),I=(0,c.Z)(T,2),A=I[0],O=I[1];(0,s.useEffect)((function(){N({title:j.title,icon:j.icon,background:j.background})}),[j]);var w=function(e){var t=e.target,n=t.name,s=t.value;N((function(e){return(0,r.Z)((0,r.Z)({},e),{},(0,l.Z)({},n,s))}))};var F=function(e){if("light"===e||"dark"===e||"violet"===e){if(e===Z.theme&&!e)return;g((0,h.xz)(e))}};return(0,m.jsxs)("div",{children:[(0,m.jsxs)("div",{className:o.Z.dropdownThemeWrap,children:[(0,m.jsxs)("div",{className:o.Z.themeHeaderWrap,children:[(0,m.jsx)("p",{className:o.Z.themeText,children:"Theme"}),(0,m.jsx)("button",{type:"button",className:o.Z.btnThemeOpen,onClick:function(){x(!n)},children:(0,m.jsx)("svg",{className:o.Z.svgTheme,width:"16",height:"16",children:(0,m.jsx)("use",{href:"".concat(d.Z,"#icon-chevron-down")})})})]}),n&&(0,m.jsx)("div",{className:o.Z.dropdownThemeMenu,style:{position:"relative"},children:(0,m.jsxs)("ul",{className:o.Z.dropdownThemeList,children:[(0,m.jsx)("li",{className:o.Z.themeMenuItem,onClick:function(){F("light")},children:"Light"}),(0,m.jsx)("li",{className:o.Z.themeMenuItem,onClick:function(){F("dark")},children:"Dark"}),(0,m.jsx)("li",{className:o.Z.themeMenuItem,onClick:function(){F("violet")},children:"Violet"})]})})]}),(0,m.jsx)("div",{children:j&&(0,m.jsxs)("p",{children:["Title active board:",j.title]})}),(0,m.jsx)("input",{type:"file",name:"avatarURL",onChange:function(e){!function(e){var t=e;if(t){M(t);var n=new FileReader;n.onload=function(e){O(e.target.result)},n.readAsDataURL(t)}}(e.currentTarget.files[0])},accept:"image/*,.png,.jpg,.gif,.web"}),(0,m.jsx)("img",{alt:"user avatar",src:A||y,srcSet:A||"".concat(y," 1x, ").concat(y," 2x")}),0!==(null===f||void 0===f?void 0:f.length)&&(0,m.jsx)("ul",{style:{display:"flex",gap:"20px"},children:null===f||void 0===f?void 0:f.map((function(e){var t=e.title,n=e._id,s=e.icon,a=e.background;return(0,m.jsxs)("li",{style:{padding:"5px",border:"grey solid 2px"},onClick:function(){return g((0,i.WU)(n))},children:[(0,m.jsxs)("p",{children:["Title: ",t]}),(0,m.jsx)("p",{children:s}),(0,m.jsx)("p",{children:a}),(0,m.jsx)("button",{onClick:function(){return g((0,i.LI)(n))},children:"DELETE"})]},n)}))}),(0,m.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=e.target,n=e.target.elements,s=n.title,a=n.icon,l=n.background,r={_id:j._id,title:s.value,icon:a.value,background:l.value};console.log(r),g((0,i.wN)(r)),t.reset()},className:o.Z.AfWelcomRegForm,children:[(0,m.jsx)("h2",{style:{color:"white"},children:"Update board"}),(0,m.jsx)("input",{autoFocus:!0,className:o.Z.AfWelcomRegFormInput,type:"text",name:"title",placeholder:"Title",value:C.title||"",onChange:w,required:!0}),(0,m.jsx)("input",{autoFocus:!0,className:o.Z.AfWelcomRegFormInput,type:"text",name:"icon",placeholder:"icon",value:C.icon||"",onChange:w}),(0,m.jsx)("input",{autoFocus:!0,className:o.Z.AfWelcomRegFormInput,type:"text",name:"background",placeholder:"background",value:C.background||"",onChange:w}),(0,m.jsx)("button",{type:"submit",className:o.Z.AfWelcomRegFormButton,children:"Update board"})]}),(0,m.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=e.target,n=e.target.elements,s=n.title,a=n.icon,l=n.background,r={title:s.value,icon:a.value,background:l.value};g((0,i.hN)(r)),t.reset()},className:o.Z.AfWelcomRegForm,children:[(0,m.jsx)("input",{autoFocus:!0,className:o.Z.AfWelcomRegFormInput,type:"text",name:"title",placeholder:"Title",required:!0}),(0,m.jsx)("input",{autoFocus:!0,className:o.Z.AfWelcomRegFormInput,type:"text",name:"icon",placeholder:"icon"}),(0,m.jsx)("input",{autoFocus:!0,className:o.Z.AfWelcomRegFormInput,type:"text",name:"background",placeholder:"background"}),(0,m.jsx)("button",{type:"submit",className:o.Z.AfWelcomRegFormButton,children:"Add new board"})]})]})},p=n(3733),f=function(e){var t=e.className,n=e.title,s=e.theme,a=e.onClick;return(0,m.jsx)("div",{className:t,children:(0,m.jsxs)("button",{className:(0,p.Z)(o.Z.KkBtnColumn,o.Z[s]),onClick:a,children:[(0,m.jsx)("div",{className:(0,p.Z)(o.Z.KkIconPlusColumn,o.Z[s]),children:(0,m.jsx)("svg",{className:(0,p.Z)(o.Z[s]),width:"14px",height:"14px",children:(0,m.jsx)("use",{href:"".concat(d.Z,"#icon-plus")})})}),(0,m.jsx)("p",{className:(0,p.Z)(o.Z[s]),children:n})]})})},j=function(e){var t=e.className,n=e.titleBoard;return(0,m.jsx)("div",{className:t,children:(0,m.jsxs)("div",{className:o.Z.KkWrapFilters,children:[(0,m.jsx)("h2",{className:o.Z.KkTitle,children:n}),(0,m.jsxs)("button",{className:o.Z.KkBtnFilters,onClick:function(){console.log("Filters ckick")},children:[(0,m.jsx)("svg",{width:"16px",height:"16px",children:(0,m.jsx)("use",{href:"".concat(d.Z,"#icon-filter")})}),(0,m.jsx)("p",{children:"Filters"})]})]})})},Z=n(5488),g=n(7892),v=n.n(g),k=n(5984),C=n(8546),N=n(4378),b=n(9852),B=n(5519),y=n(1862),M=n(3466),T=n(1652),I=n(4750),A=n(2707),O=function(e){var t=e.modalTitle,n=e.id,a=e.cardTitle,i=e.description,l=e.priority,h=e.deadline,x=e.modalBtnTitle,p=(0,u.a)().user,f=(0,s.useState)(a),j=(0,c.Z)(f,2),Z=j[0],g=j[1],O=(0,s.useState)(i),w=(0,c.Z)(O,2),F=w[0],S=w[1],D=(0,s.useState)(l||"without"),W=(0,c.Z)(D,2),K=W[0],P=W[1],R=(0,s.useState)(!1),E=(0,c.Z)(R,2),Y=E[0],L=E[1],U=(0,s.useState)(h?v()(h,"DD/MM/YYYY"):v()()),_=(0,c.Z)(U,2),z=_[0],H=_[1],V=v()(z).format("dddd, MMMM D")===v()().format("dddd, MMMM D")?"[Today,] MMMM D":"dddd, MMMM D",q={low:C.Z[200],medium:N.Z[200],high:b.Z[200],without:B.Z[400]};return(0,m.jsxs)("div",{className:o.Z.OBAddContainer,"data-theme":p.theme,children:[(0,m.jsx)("h4",{className:o.Z.OBAddTitle,children:t}),(0,m.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=e.target.elements.title.value.trim(),s=e.target.elements.description.value.trim(),a=e.target.elements.priority.value,i=v()(z).format("DD/MM/YYYY"),l={id:n||(0,k.x0)(),title:t,description:s,priority:a,deadline:i};console.log(l),e.target.reset()},autoComplete:"off",children:[(0,m.jsx)("label",{children:(0,m.jsx)("input",{type:"text",name:"title",placeholder:"Title",autoFocus:!0,required:!0,className:o.Z.OBAddInput,defaultValue:Z,onChange:function(e){return g(e.target.value)}})}),(0,m.jsx)("label",{children:(0,m.jsx)("textarea",{type:"text",name:"description",placeholder:"Description",className:"".concat(o.Z.OBAddInput," ").concat(o.Z.OBAddDescription),defaultValue:F,onChange:function(e){return S(e.target.value)}})}),(0,m.jsxs)("div",{className:o.Z.OBAddlabel,children:["Label color",(0,m.jsx)("div",{className:o.Z.OBAddRadioGroup,children:Object.keys(q).map((function(e){return(0,m.jsx)(y.Z,(0,r.Z)((0,r.Z)({className:o.Z.OBAddradioBtn},{value:t=e,onChange:function(e){return P(e.target.value)},checked:K===t,name:"priority",inputProps:{"aria-label":t}}),{},{sx:{color:q[e],"&.Mui-checked":{color:q[e]},"&.Mui-checked .MuiSvgIcon-root":{fontSize:"17px"},"&:not(.Mui-checked) .MuiSvgIcon-root":{fontSize:"14px",backgroundColor:q[e],borderRadius:"50%"}}}),e);var t}))})]}),(0,m.jsx)("div",{children:(0,m.jsx)(T._,{dateAdapter:I.y,children:(0,m.jsx)(A.M,{open:Y,onClose:function(){return L(!1)},onChange:function(e){return H(e)},value:z,format:V,disablePast:!0,outsideCurrentMonth:!0,dayOfWeekFormatter:function(e){return e.slice(0,2).toUpperCase()},sx:{display:"inline"},slots:{openPickerButton:function(){return null}},slotProps:{calendarHeader:{sx:{".MuiPickersCalendarHeader-root":{position:"relative"},".MuiPickersCalendarHeader-labelContainer":{fontFamily:"Poppins, sans-serif",fontSize:"16px",fontWeight:500,letterSpacing:"-0.32px",display:"grid"},".MuiPickersCalendarHeader-label":{display:"inline-block",marginLeft:"50%",transform:"translateX(-50%)"},".MuiPickersCalendarHeader-switchViewButton":{display:"none"},".MuiIconButton-edgeEnd":{position:"absolute",top:"10px",left:"3px"},".MuiIconButton-edgeStart":{position:"absolute",top:"10px",right:"3px"}},style:{marginTop:"18px",marginBottom:"14px",display:"inline",paddingLeft:"18px",paddingRight:"18px"}},previousIconButton:{sx:{stroke:"violet"===p.theme?"#5255BC":"#BEDBB0"}},nextIconButton:{sx:{stroke:"violet"===p.theme?"#5255BC":"#BEDBB0"}},textField:{fullWidth:!1,onClick:function(){return L(!0)},variant:"standard",size:"small",InputProps:{disableUnderline:!0,"aria-label":"deadline",style:{fontSize:"14px",fontFamily:"Poppins, sans-serif",color:"violet"===p.theme?"#5255BC":"#BEDBB0",fontWeight:500,letterSpacing:"-0.28px"},endAdornment:(0,m.jsx)(M.Z,{position:"start",sx:{cursor:"pointer"},children:(0,m.jsx)("svg",{className:o.Z.OBAddDateIcon,width:"18px",children:(0,m.jsx)("use",{href:d.Z+"#icon-chevron-down","aria-label":"open calendar",edge:"start"})})})}}}})})}),(0,m.jsxs)("button",{className:o.Z.OBAddSubmitBtn,children:[(0,m.jsx)("div",{className:o.Z.OBAddIconWrapper,children:(0,m.jsx)("svg",{className:o.Z.OBAddSubmitIcon,children:(0,m.jsx)("use",{href:d.Z+"#icon-plus"})})}),x]})]})]})},w=function(e){switch(e){case"low":return"#8FA1D0";case"medium":return"rgba(224, 156, 181, 1)";case"high":return"#BEDBB0";case"without":return"rgba(22, 22, 22, 0.30)"}},F=function(e){var t=e.id,n=e.cardTitle,a=e.description,i=e.priority,l=e.deadline,r=(0,s.useState)(!1),u=(0,c.Z)(r,2),h=u[0],x=u[1],p=v()().format("DD/MM/YYYY")===l;return(0,m.jsxs)("div",{style:{borderLeftColor:w(i)},className:o.Z.OBCardContainer,children:[(0,m.jsx)("h4",{className:o.Z.OBCardTitle,children:n}),(0,m.jsx)("p",{className:o.Z.OBCardDescription,children:a}),(0,m.jsx)("hr",{className:o.Z.OBCardSeparator}),(0,m.jsxs)("div",{className:o.Z.OBCardFooterContainer,children:[(0,m.jsxs)("table",{className:o.Z.OBCardValuesContainer,children:[(0,m.jsx)("thead",{children:(0,m.jsxs)("tr",{children:[(0,m.jsx)("th",{className:o.Z.OBCardProreties,children:"Priority"}),(0,m.jsx)("th",{className:o.Z.OBCardProreties,children:"Deadline"})]})}),(0,m.jsx)("tbody",{children:(0,m.jsxs)("tr",{children:[(0,m.jsx)("td",{children:(0,m.jsx)("div",{style:{backgroundColor:w(i)},className:o.Z.OBCardPriorityCircle})}),(0,m.jsx)("td",{className:o.Z.OBCardDate,children:l})]})})]}),(0,m.jsxs)("div",{className:o.Z.OBCardIconsWrapper,children:[p&&(0,m.jsx)("svg",{className:o.Z.OBCardBellIcon,width:"16",height:"16",children:(0,m.jsx)("use",{href:d.Z+"#icon-bell"})}),(0,m.jsx)("button",{type:"button",className:o.Z.OBCardBtnIcon,"aria-label":"edit task",onClick:function(){x(!0)},children:(0,m.jsx)("svg",{width:"16",height:"16",children:(0,m.jsx)("use",{href:d.Z+"#icon-pencil"})})}),h&&(0,m.jsx)(Z.u,{isOpen:h,onClose:function(){x(!1)},children:(0,m.jsx)(O,{modalTitle:"Edit card",id:t,cardTitle:n,description:a,priority:i,deadline:l,modalBtnTitle:"Edit"})}),(0,m.jsx)("button",{type:"button",className:o.Z.OBCardBtnIcon,"aria-label":"delete task",children:(0,m.jsx)("svg",{width:"16",height:"16",children:(0,m.jsx)("use",{href:d.Z+"#icon-trash"})})})]})]})]})},S=n(9109),D=function(e){var t=e.title,n=e.className,s=e.theme,a=e.onClick;return(0,m.jsx)("div",{className:n,children:(0,m.jsxs)("button",{className:(0,p.Z)(o.Z.KkBtnCard,o.Z[s]),onClick:a,children:[(0,m.jsx)("div",{className:(0,p.Z)(o.Z.KkIconPlusCard,o.Z[s]),children:(0,m.jsx)("svg",{className:(0,p.Z)(o.Z[s]),width:"14px",height:"14px",children:(0,m.jsx)("use",{href:"".concat(d.Z,"#icon-plus")})})}),(0,m.jsx)("p",{className:(0,p.Z)(o.Z[s]),children:t})]})})},W=function(e){var t=e.className,n=e.title,s=e.theme;return(0,m.jsx)("div",{className:t,children:(0,m.jsxs)("div",{className:(0,p.Z)(o.Z.KkWrapTitleCards,o.Z[s]),children:[(0,m.jsxs)("p",{className:(0,p.Z)(o.Z[s]),children:[" ",n]}),(0,m.jsxs)("div",{className:o.Z.KkSvgTitleCards,children:[(0,m.jsx)("button",{className:o.Z.KkBtnIcons,onClick:function(){console.log("icon pensil click")},children:(0,m.jsx)("svg",{className:(0,p.Z)(o.Z[s]),width:"16px",height:"16px",children:(0,m.jsx)("use",{href:"".concat(d.Z,"#icon-pencil")})})}),(0,m.jsx)("button",{className:o.Z.KkBtnIcons,onClick:function(){console.log("icon trash click")},children:(0,m.jsx)("svg",{className:(0,p.Z)(o.Z[s]),width:"16px",height:"16px",children:(0,m.jsx)("use",{href:"".concat(d.Z,"#icon-trash")})})})]})]})})},K=n(4172),P=function(e){return e.columns.allColumns},R=function(e){return e.columns.columnById},E=function(e){return e.tasks.allTasks},Y=function(){return{allColumns:(0,a.v9)(P),columnById:(0,a.v9)(R),allTasks:(0,a.v9)(E)}},L=function(e){var t=e.className,n=e.titleCards,i=e.idColumn,l=(0,s.useState)("light"),r=(0,c.Z)(l,1)[0],d=(0,s.useState)(!1),u=(0,c.Z)(d,2),h=u[0],x=u[1],p=Y().allTasks,f=(0,a.I0)();(0,s.useEffect)((function(){f((0,K.Ak)(i))}),[f,i]);return(0,m.jsxs)("div",{className:t,children:[(0,m.jsx)(W,{className:o.Z.TitleCards,title:n,theme:r}),(0,m.jsx)("ul",{className:o.Z.KkCards,children:p&&p.map((function(e){var t=e._id,n=e.title,s=e.description,a=e.priority,i=e.deadline;return(0,m.jsxs)("li",{children:[(0,m.jsx)(F,{cardTitle:n,description:s,priority:a,deadline:i}),(0,m.jsxs)("p",{children:["id Task: ",t]})]},t)}))}),(0,m.jsx)(D,{className:o.Z.KkBtnAddCard,title:"Add another card",onClick:function(){x(!0)},theme:r}),h&&(0,m.jsx)(Z.u,{isOpen:h,onClose:function(){x(!1)},children:(0,m.jsx)(S.AddCard,{modalTitle:"Add card",modalBtnTitle:"Add"})})]})},U=n(5568),_=function(){var e="64f3a3fa79cb8e451035865d",t=(0,u.$)(),n=t.allBoards,l=t.boardById,r=Y(),c=r.allColumns,d=r.allTasks,h=(0,a.I0)();(0,s.useEffect)((function(){h((0,i.WU)(e)),h((0,U.Pu)(e)),h((0,i.sj)()),h((0,K.Ak)("64f3b37f79cb8e4510358ae7"))}),[h]);if(console.log("allBoards :>>>>>>>>>>>>>>>>>> ",n),console.log("allColumns :>>>>>>>>>>>>>>>>> ",c),console.log("allTasks :>>>>>>>>>>>>>>>>> ",d),l){var x=l.title;return(0,m.jsxs)("section",{className:o.Z.KkSectionMainDashboard,children:[(0,m.jsx)(j,{className:o.Z.KkFilters,titleBoard:x}),(0,m.jsx)("button",{onClick:function(){},children:"click"}),(0,m.jsxs)("ul",{className:o.Z.KkColums,children:[c.map((function(e){var t=e._id,n=e.title;return(0,m.jsxs)("li",{children:[(0,m.jsx)(L,{className:o.Z.KkTaskColumn,titleCards:n,idColumn:t}),(0,m.jsxs)("p",{children:["id Column: ",t]})]},t)})),(0,m.jsx)(f,{className:o.Z.KkBtnAddColumnMain,title:"Add column",theme:"light",onClick:function(){console.log("Add Column click")}})]})]})}},z=function(){var e=(0,a.I0)(),t=(0,a.v9)((function(e){return e}));return console.log(t),(0,s.useEffect)((function(){e((0,i.sj)())}),[e]),(0,m.jsx)("section",{children:(0,m.jsxs)("div",{children:[(0,m.jsx)(_,{}),(0,m.jsx)(x,{})]})})},H=function(){return(0,m.jsx)(m.Fragment,{children:(0,m.jsx)("div",{children:(0,m.jsx)(z,{})})})}}}]);
//# sourceMappingURL=908.2ec4a967.chunk.js.map